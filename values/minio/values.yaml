## MinIO Official Chart - Distributed Mode

mode: distributed

## Replicas (tối thiểu 4 cho distributed)
replicas: 4

## Root credentials
rootUser: admin
rootPassword: "minioadmin"
# Hoặc dùng existingSecret:
# existingSecret: minio-secret

## Persistence
persistence:
  enabled: true
  size: 5Gi
  storageClass: "standard-rwo"

## Resources
resources:
  requests:
    memory: 512Mi
    cpu: 250m
  limits:
    memory: 1Gi
    cpu: 500m

## Service
service:
  type: ClusterIP
  port: 9000

## Console Service
consoleService:
  type: ClusterIP
  port: 9001

## Ingress (optional)
ingress:
  enabled: false
  # hosts:
  #   - minio-console.yourdomain.com
  # annotations:
  #   kubernetes.io/ingress.class: nginx
  #   cert-manager.io/cluster-issuer: letsencrypt-prod
  # tls:
  #   - secretName: minio-tls
  #     hosts:
  #       - minio-console.yourdomain.com

## Create bucket for Harbor
buckets:
  - name: harbor
    policy: none
    purge: false

## Pod Anti-Affinity
affinity:
  podAntiAffinity:
    preferredDuringSchedulingIgnoredDuringExecution:
      - weight: 100
        podAffinityTerm:
          labelSelector:
            matchLabels:
              app: minio
          topologyKey: kubernetes.io/hostname